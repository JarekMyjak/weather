(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{233:function(t,e,n){},234:function(t,e,n){},368:function(t,e,n){"use strict";n.r(e);var a=n(8),c=n(1),i=n.n(c),r=n(56),o=n.n(r),s=(n(233),n(153)),u=n(22),j=(n(234),n(235),n(83)),l=n(392),b=n(393),d=n(405),h=n(123),p=n(390),m=n(205),f=n.n(m),O=n(204),x=n.n(O),g=n(407),y=n(37),w=Object(p.a)((function(t){return{root:{flexGrow:1},search:Object(j.a)({position:"relative",borderRadius:t.shape.borderRadius,backgroundColor:Object(y.b)("#fff",.15),"&:hover":{backgroundColor:Object(y.b)("#fff",.25)},marginLeft:0,width:"100%"},t.breakpoints.up("sm"),{marginLeft:t.spacing(1),width:"auto"}),searchIcon:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(j.a)({padding:t.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(t.spacing(4),"px)"),transition:t.transitions.create("width"),width:"100%"},t.breakpoints.up("sm"),{width:"25ch","&:focus":{width:"30ch"}})}})),v=function(t){var e=w(),n=Object(c.useState)(""),i=Object(u.a)(n,2),r=i[0],o=i[1];return Object(a.jsxs)("form",{className:e.search,onSubmit:function(e){e.preventDefault(),t.handleCityAdd(r),o("")},children:[Object(a.jsx)(x.a,{className:e.searchIcon}),Object(a.jsx)(g.a,{onChange:function(t){o(t.target.value)},value:r,placeholder:"Search by city\u2026",inputProps:{"aria-label":"search"},classes:{root:e.inputRoot,input:e.inputInput}})]})},S=Object(p.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:Object(j.a)({flexGrow:1,display:"none"},t.breakpoints.up("sm"),{display:"block"})}}));function D(t){var e=S();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(l.a,{position:"static",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)(d.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"open drawer",children:Object(a.jsx)(f.a,{})}),Object(a.jsx)(h.a,{className:e.title,variant:"h6",noWrap:!0,children:"Weather wherever"}),Object(a.jsx)(v,{handleCityAdd:function(e){t.handleCityAdd(e)}})]})})})}var C=n(401),k=n(399),I="&appid=d9b05e3b44db7655956488ed6865abca",N="&units=metric",A={getWeatherByTown:function(t){return fetch("https://api.openweathermap.org/data/2.5/weather?q="+t+I+N).then((function(t){return t.json()}))},getForecastByTown:function(t){return fetch("https://api.openweathermap.org/data/2.5/forecast?q="+t+I+N+"&cnt=40").then((function(t){return t.json()}))}},B=n(408),T=n(406),L=n(413),F=n(402),W=n(415),E=n(411),R=n(221),J=function(t,e){return e%5===0},G=function(t){var e=Object(c.useState)(""),n=Object(u.a)(e,2),i=n[0],r=n[1],o=Object(c.useState)([]),s=Object(u.a)(o,2),j=s[0],l=s[1],b=Object(c.useState)([]),d=Object(u.a)(b,2),h=d[0],p=d[1],m=Object(c.useState)([]),f=Object(u.a)(m,2),O=f[0],x=f[1],g=Object(c.useState)(),y=Object(u.a)(g,2),w=y[0],v=y[1],S=Object(c.useState)(),D=Object(u.a)(S,2),C=D[0],k=D[1];return Object(c.useEffect)((function(){A.getForecastByTown(t.cityName).then((function(t){r(t.city.name),l(t.list.map((function(t,e){return{x:new Date(t.dt_txt),y:t.main.temp,label:t.main.temp+"\xb0C"}}))),p(function(t){return t.map((function(t,e){return{x:new Date(t.dt_txt),y:t.main.temp}}))}(t.list)),x(function(t){return t.map((function(t,e){return new Date(t.dt_txt)})).filter(J)}(t.list))}))}),[t.cityName]),Object(a.jsx)(R.a,{style:{padding:"0px 20px 0px 20px"},children:Object(a.jsxs)("div",{style:{overflow:"hidden"},children:[Object(a.jsx)(B.a,{text:i,x:225,y:60,textAnchor:"middle"}),Object(a.jsx)(T.a,{width:1e3,height:300,scale:{x:"time"},containerComponent:Object(a.jsx)(L.a,{responsive:!0,zoomDimension:"x",zoomDomain:C,onZoomDomainChange:function(t){v(t)}}),children:Object(a.jsx)(F.a,{style:{data:{stroke:"lightblue"}},data:j,interpolation:"cardinal"})}),Object(a.jsxs)(T.a,{width:1e3,height:90,scale:{x:"time"},padding:{top:0,left:50,right:50,bottom:30},containerComponent:Object(a.jsx)(W.a,{responsive:!0,brushDimension:"x",brushDomain:w,onBrushDomainChange:function(t){k(t)}}),children:[Object(a.jsx)(E.a,{tickValues:O,tickFormat:function(t){var e=new Date(t),n=e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=e.toLocaleDateString([],{weekday:"long"});return"".concat(a,"\n").concat(n)}}),Object(a.jsx)(F.a,{style:{data:{stroke:"lightblue"}},data:h,interpolation:"cardinal"})]})]})})},_=n(396),q=n(219),z=n.n(q),P=n(397),M=n(400),V=n(398),Z=n(220),H=n.n(Z),K=z()({root:{minWidth:275,maxWidth:400,display:"flex",flexDirection:"column"},pos:{marginBottom:12},delete:{marginLeft:"auto"},media:{height:140}});function Q(t){var e=K(),n=Object(c.useState)(""),i=Object(u.a)(n,2),r=i[0],o=i[1],s=Object(c.useState)(""),j=Object(u.a)(s,2),l=j[0],b=j[1],p=Object(c.useState)(""),m=Object(u.a)(p,2),f=m[0],O=m[1],x=Object(c.useState)(""),g=Object(u.a)(x,2),y=g[0],w=g[1],v=function(){A.getWeatherByTown(t.cityName).then((function(e){"404"===e.cod?t.onDelete():(o(e.name),b(e.main.temp),O(e.weather[0].description),w(e.weather[0].icon))}))};Object(c.useEffect)((function(){v();var t=setInterval((function(){v()}),12e4);return function(){return clearInterval(t)}}));return Object(a.jsx)(_.a,{item:!0,children:Object(a.jsxs)(P.a,{className:e.root,onClick:function(){t.selectTile()},children:[Object(a.jsx)(V.a,{action:Object(a.jsx)(d.a,{"aria-label":"delete",className:e.delete,onClick:function(e){e.stopPropagation(),t.onDelete()},children:Object(a.jsx)(H.a,{})}),title:r}),Object(a.jsx)(k.a,{}),Object(a.jsxs)(M.a,{children:[Object(a.jsx)(h.a,{variant:"body2",component:"p",children:f}),y?Object(a.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(y,".png"),alt:"".concat(f," icon")}):Object(a.jsx)("br",{}),Object(a.jsxs)(h.a,{variant:"body2",component:"p",children:[l,"\xb0C"]})]})]})})}var U=function(t){var e=t.cityListArr,n=t.handleCityDeleteF,c=t.selectTileF;return Object(a.jsx)(_.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,children:e.map((function(t){return Object(a.jsx)(Q,{cityName:t.name,onDelete:function(){return n(t.id)},selectTile:function(){return c(t.name)}},t.id)}))})},X="WeatherApp",Y={getItems:function(){var t=JSON.parse(localStorage.getItem(X));return null!=t?t:[]},setItems:function(t){return localStorage.setItem(X,JSON.stringify(t))}};var $=function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],i=e[1],r=Object(c.useState)(),o=Object(u.a)(r,2),j=o[0],l=o[1];return Object(c.useEffect)((function(){return i(Y.getItems()),function(){}}),[]),Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(D,{handleCityAdd:function(t){if(""!==t){var e={};e.name=t,e.createdAt=Date.now(),e.id=n.length,i([].concat(Object(s.a)(n),[e])),Y.setItems([].concat(Object(s.a)(n),[e]))}}}),Object(a.jsxs)(C.a,{children:[Object(a.jsx)("br",{}),Object(a.jsx)(U,{cityListArr:n,handleCityDeleteF:function(t){var e=n.filter((function(e){return e.id!==t}),t);i(e),Y.setItems(e)},selectTileF:function(t){l(t)}}),Object(a.jsx)("br",{}),Object(a.jsx)(k.a,{}),Object(a.jsx)("br",{}),j?Object(a.jsx)(G,{cityName:j}):Object(a.jsx)("p",{children:"click on any tlile to watch the forecast"})]})]})};n(364).config(),o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)($,{})}),document.getElementById("root"))}},[[368,1,2]]]);
//# sourceMappingURL=main.f86e7fc9.chunk.js.map